(self.webpackChunkbooking_pages=self.webpackChunkbooking_pages||[]).push([[440],{38440:(be,ae,k)=>{"use strict";k.r(ae),k.d(ae,{ApmBase:()=>dn,apm:()=>Le,apmBase:()=>Le,default:()=>fa,init:()=>vn});function y(t,n){this.name="AggregateError",this.errors=t,this.message=n||""}y.prototype=Error.prototype;var X=setTimeout;function H(t){return Boolean(t&&void 0!==t.length)}function Y(){}function m(t){if(!(this instanceof m))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],A(t,this)}function _(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,m._immediateFn(function(){var i=1===t._state?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t._value)}catch(r){return void g(n.promise,r)}b(n.promise,e)}else(1===t._state?b:g)(n.promise,t._value)})):t._deferreds.push(n)}function b(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof m)return t._state=3,t._value=n,void T(t);if("function"==typeof i)return void A(function Pe(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t._state=1,t._value=n,T(t)}catch(e){g(t,e)}}function g(t,n){t._state=2,t._value=n,T(t)}function T(t){2===t._state&&0===t._deferreds.length&&m._immediateFn(function(){t._handled||m._unhandledRejectionFn(t._value)});for(var n=0,i=t._deferreds.length;n<i;n++)_(t,t._deferreds[n]);t._deferreds=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function A(t,n){var i=!1;try{t(function(e){i||(i=!0,b(n,e))},function(e){i||(i=!0,g(n,e))})}catch(e){if(i)return;i=!0,g(n,e)}}m.prototype.catch=function(t){return this.then(null,t)},m.prototype.then=function(t,n){var i=new this.constructor(Y);return _(this,new I(t,n,i)),i},m.prototype.finally=function D(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},m.all=function(t){return new m(function(n,i){if(!H(t))return i(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function a(s,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(d){a(s,d)},i)}e[s]=u,0==--r&&n(e)}catch(d){i(d)}}for(var o=0;o<e.length;o++)a(o,e[o])})},m.any=function K(t){var n=this;return new n(function(i,e){if(!t||void 0===t.length)return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e();for(var a=[],o=0;o<r.length;o++)try{n.resolve(r[o]).then(i).catch(function(s){a.push(s),a.length===r.length&&e(new y(a,"All promises were rejected"))})}catch(s){e(s)}})},m.allSettled=function M(t){return new this(function(i,e){if(!t||void 0===t.length)return e(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return i([]);var a=r.length;function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){var d=c.then;if("function"==typeof d)return void d.call(c,function(f){o(u,f)},function(f){r[u]={status:"rejected",reason:f},0==--a&&i(r)})}r[u]={status:"fulfilled",value:c},0==--a&&i(r)}for(var s=0;s<r.length;s++)o(s,r[s])})},m.resolve=function(t){return t&&"object"==typeof t&&t.constructor===m?t:new m(function(n){n(t)})},m.reject=function(t){return new m(function(n,i){i(t)})},m.race=function(t){return new m(function(n,i){if(!H(t))return i(new TypeError("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)m.resolve(t[e]).then(n,i)})},m._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){X(t,0)},m._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var q={};Z?q=window:"undefined"!=typeof self&&(q=self);for(var B=("Promise"in q?q.Promise:m),ct=[].slice,Z="undefined"!=typeof window,j=Z&&"undefined"!=typeof performance?performance:{},ft=[],Ie=0;Ie<256;++Ie)ft[Ie]=(Ie+256).toString(16).substr(1);var Fe=new Uint8Array(16);function oe(t){var n=function pn(t){for(var n=[],i=0;i<t.length;i++)n.push(ft[t[i]]);return n.join("")}(function hn(){return"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(Fe):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(Fe):Fe}());return n.substr(0,t)}function dt(t,n,i){"function"==typeof t.setRequestHeader?t.setRequestHeader(n,i):t.headers&&"function"==typeof t.headers.append?t.headers.append(n,i):t[n]=i}function ke(t,n){var i=!1;return"string"==typeof n?i=t===n:n&&"function"==typeof n.test?i=n.test(t):Array.isArray(n)&&n.forEach(function(e){i||(i=ke(t,e))}),i}function vt(t,n,i){if(i&&t){var e=pt(t),r=typeof n;return null!=n&&"boolean"!==r&&"number"!==r&&(n=String(n)),i[e]=n,i}}function lt(t){return t&&t.split("?")[0]}function Me(t){return null!==t&&"object"==typeof t}function Tn(t){return"function"==typeof t}function He(t,n,i){for(var e=0,r=n.length;e<r;++e){var a=n[e];if(Me(a)||Tn(a))for(var o=Object.keys(a),s=0,u=o.length;s<u;s++){var c=o[s],d=a[c];i&&Me(d)?(Me(t[c])||(t[c]=Array.isArray(d)?[]:{}),He(t[c],[d],!1)):t[c]=d}}return t}function ee(t){return He(t,ct.call(arguments,1),!1)}function Re(t){return He(t,ct.call(arguments,1),!0)}function je(t){return void 0===t}function Ne(){}function pt(t){return t.replace(/[.*"]/g,"_")}function ht(t,n){for(var i=null,e=0;e<t.length;e++){var r=t[e];n&&n(r.type)&&(!i||i._end<r._end)&&(i=r)}return i}function J(){return j.now()}function De(t){return"number"==typeof t&&t>=0?t:J()}function gt(t,n){return je(n)||je(t)?null:parseInt(n-t)}function mt(t){B.resolve().then(t)}function _t(){return"function"==typeof j.getEntriesByType}function Ue(t){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(t)>=0}function yt(){return"interactionCount"in performance}function qe(t){return t.redirectStart>0}var we={fetchInProgress:!1};function se(t){return"__apm_symbol__"+t}function St(t,n,i){for(var e=t;e&&!e.hasOwnProperty(n);)e=Object.getPrototypeOf(e);!e&&t[n]&&(e=t);var a,r=se(n);if(e&&!(a=e[r])&&(a=e[r]=e[n],function Cn(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}(e&&Object.getOwnPropertyDescriptor(e,n)))){var s=i(a,r,n);e[n]=function(){return s(this,arguments)},function xn(t,n){t[se("OriginalDelegate")]=n}(e[n],a)}return a}var Be=se("xhrIgnore"),Et=se("xhrSync"),Tt=se("xhrURL"),bt=se("xhrMethod"),ue="schedule",W="invoke",It="addEventListener",Ln=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],Ve=3e5,F="page-load",wt="user-interaction",Ge="http-request",$e="temporary",Oe="Unknown",ze="page-exit",Ot=[F,"route-change",wt,Ge,"custom",$e],Ct="transaction:end",xt="config:change",Ke="queue:flush",Xe="queue:add_transaction",Ce="transaction:ignore",ce="xmlhttprequest",fe="fetch",de="history",Lt="eventtarget",kt="elastic_apm_config",le="longtask",Mt="largest-contentful-paint",xe="first-input",Ye="layout-shift",pe="errors",he="transactions",O="ConfigService",Q="LoggingService",te="TransactionService",ge="ApmServer",Ht="PerformanceMonitoring",Je="ErrorLogging",We=".truncated",C=1024;function Dt(t){return!(0===t||t>399&&t<600)}function Qe(){return Qe=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},Qe.apply(this,arguments)}function Ut(){return"function"==typeof window.fetch&&"function"==typeof window.Request}const qt=function(){function t(){this.observers={}}var n=t.prototype;return n.observe=function(e,r){var a=this;if("function"==typeof r)return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(r),function(){var o=a.observers[e].indexOf(r);o>-1&&a.observers[e].splice(o,1)}},n.sendOnly=function(e,r){var a=this.observers[e];a&&a.forEach(function(o){try{o.apply(void 0,r)}catch(s){console.log(s,s.stack)}})},n.send=function(e,r){this.sendOnly(e+":before",r),this.sendOnly(e,r),this.sendOnly(e+":after",r)},t}();var ne=new qt,Bt=!1;function nr(){return Bt||(Bt=!0,function Kn(t){var n=XMLHttpRequest.prototype;if(n&&n[It])var i="readystatechange",e="load",r="error",c=St(n,"open",function(){return function(f,v){return f[Be]||(f[bt]=v[0],f[Tt]=v[1],f[Et]=!1===v[2]),c.apply(f,v)}}),d=St(n,"send",function(){return function(f,v){if(f[Be])return d.apply(f,v);var l={source:ce,state:"",type:"macroTask",data:{target:f,method:f[bt],sync:f[Et],url:f[Tt],status:""}};try{return function u(f){if(f.state!==ue){f.state=ue,t(ue,f);var v=f.data.target;l(i),l(e),l("timeout"),l(r),l("abort")}function l(p){v[It](p,function(h){var E=h.type;E===i?4===v.readyState&&0!==v.status&&s(f,"success"):s(f,E===e?"success":E)})}}(l),d.apply(f,v)}catch(p){throw s(l,r),p}}});function s(f,v){f.state!==W&&(f.state=W,f.data.status=v,t(W,f))}}(function(t,n){ne.send(ce,[t,n])}),function Qn(t){if(Ut()){var a=window.fetch;window.fetch=function(o,s){var d,f,u=this,c=arguments,v=o instanceof URL;if("string"==typeof o||v)d=new Request(o,s),f=v?d.url:o;else{if(!o)return a.apply(u,c);f=(d=o).url}var l={source:fe,state:"",type:"macroTask",data:{target:d,method:d.method,url:f,aborted:!1}};return new B(function(p,h){var E;we.fetchInProgress=!0,n(l);try{E=a.apply(u,[d])}catch(S){return h(S),l.data.error=S,i(l),void(we.fetchInProgress=!1)}E.then(function(S){var L=S.clone?S.clone():{};p(S),mt(function(){l.data.response=S;var N=L.body;N?r(N,l):i(l)})},function(S){h(S),mt(function(){e(l,S)})}),we.fetchInProgress=!1})}}function n(o){o.state=ue,t(ue,o)}function i(o){o.state=W,t(W,o)}function e(o,s){o.data.aborted=function Zn(t){return t&&"AbortError"===t.name}(s),o.data.error=s,i(o)}function r(o,s){var u=o.getReader();!function d(){u.read().then(function(f){f.done?i(s):d()},function(f){e(s,f)})}()}}(function(t,n){ne.send(fe,[t,n])}),function er(t){if(window.history){var n=history.pushState;"function"==typeof n&&(history.pushState=function(i,e,r){t(W,{source:de,data:{state:i,title:e,url:r}}),n.apply(this,arguments)})}}(function(t,n){ne.send(de,[t,n])})),ne}var re={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER},Vt=!1;var lr=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],pr=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,ve=function(){function t(i){var e=this.extractProtocol(i||""),r=e.protocol,a=e.address,o=e.slashes,s=!r&&!o,u=this.getLocation(),c=lr.slice();a=a.replace("\\","/"),o||(c[2]=[NaN,"path"]);for(var d,f=0;f<c.length;f++){var v=c[f],l=v[0],p=v[1];if("string"==typeof l){if(~(d=a.indexOf(l))){var h=v[2];if(h){var E=a.lastIndexOf(l);d=Math.max(d,E),this[p]=a.slice(0,d),a=a.slice(d+h)}else this[p]=a.slice(d),a=a.slice(0,d)}}else this[p]=a,a="";this[p]=this[p]||s&&v[3]&&u[p]||"",v[3]&&(this[p]=this[p].toLowerCase())}if(s&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=s,this.protocol=r||u.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var S=this.host.split(":"),L=S.pop(),N=S.join(":");!function vr(t,n){switch(n){case"http:":return"80"===t;case"https:":return"443"===t}return!0}(L,this.protocol)?this.port=L:this.host=N,this.hostname=N}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var n=t.prototype;return n.toString=function(){var e=this.protocol;if(e+="//",this.auth){var r="[REDACTED]",a=this.auth.split(":");e+=(a[0]?r:"")+(a[1]?":"+r:"")+"@"}return e+=this.host,e+=this.path,(e+=this.query)+this.hash},n.getLocation=function(){var e={};return Z&&(e=window),e.location},n.extractProtocol=function(e){var r=pr.exec(e);return{protocol:r[1]?r[1].toLowerCase():"",slashes:!!r[2],address:r[3]}},t}(),gr=["tags"];function Gt(t){var a={transfer_size:t.transferSize,encoded_body_size:t.encodedBodySize,decoded_body_size:t.decodedBodySize},o=function En(t){void 0===t&&(t=[]);for(var n=[],r=0;r<t.length;r++){var a=t[r],s=a.duration,u=a.description,c=a.name;u&&(c+=";desc="+u),s&&(c+=";dur="+s),n.push(c)}return n.join(", ")}(t.serverTiming);return o&&(a.headers={"server-timing":o}),a}function Ze(t){var e=t.hostname,r=function br(t,n){return""===t&&(t="http:"===n?"80":"https:"===n?"443":""),t}(t.port,t.protocol),a=91===e.charCodeAt(0)&&93===e.charCodeAt(e.length-1),o=e;return a&&(o=e.slice(1,-1)),{service:{resource:e+":"+r,name:"",type:""},address:o,port:Number(r)}}function $t(){return{page:{referer:document.referrer,url:location.href}}}var Cr={service:{name:[C,!0],version:!0,agent:{version:[C,!0]},environment:!0},labels:{"*":!0}},zt={"*":!0,headers:{"*":!0}},et={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:zt},destination:{address:[C],service:{"*":[C,!0]}},response:zt},Lr={name:[C,!0],type:[C,!0],id:[C,!0],trace_id:[C,!0],parent_id:[C,!0],transaction_id:[C,!0],subtype:!0,action:!0,context:et},Ar={name:!0,parent_id:!0,type:[C,!0],id:[C,!0],trace_id:[C,!0],span_count:{started:[C,!0]},context:et},Pr={id:[C,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:et};function Kt(t){return null==t||""===t||void 0===t}function Xt(t,n,i){var e=function Fr(t,n,i,e){return void 0===n&&(n=C),void 0===i&&(i=!1),void 0===e&&(e="N/A"),i&&Kt(t)&&(t=e),"string"==typeof t?t.substring(0,n):t}(t[n],i[0],i[1]);Kt(e)?delete t[n]:t[n]=e}function me(t,n,i){void 0===t&&(t={}),void 0===i&&(i=n);for(var e=Object.keys(t),r=[],a=function(u){var c=e[u],d=!0===t[c]?r:t[c];Array.isArray(d)?"*"===c?Object.keys(i).forEach(function(f){return Xt(i,f,d)}):Xt(i,c,d):me(d,n,i[c])},o=0;o<e.length;o++)a(o);return n}var kr=k(258),Mr=k.n(kr),Hr=["tags"],Dr=["stack","message"],Yt="Unhandled promise rejection: ";const Br=function(){function t(i,e,r){this._apmServer=i,this._configService=e,this._transactionService=r}var n=t.prototype;return n.createErrorDataModel=function(e){var a=function dr(t){return t.filter(function(n){return void 0!==n.filename&&void 0!==n.lineno})}(function fr(t,n){var i=n.error,e=n.filename,r=n.lineno,a=n.colno,o=[];if(i)try{o=t.parse(i)}catch(u){}(function cr(t){return 0!==t.length&&(1!==t.length||"lineNumber"in t[0])})(o)||(o=[{fileName:e,lineNumber:r,columnNumber:a}]);var s=function sr(t){return t.map(function(n){return n.functionName&&(n.functionName=function ur(t){var n=t.split("/");return t=n.length>1?["Object",n[n.length-1]].join("."):n[0],(n=(t=(t=t.replace(/.<$/gi,".<anonymous>")).replace(/^Anonymous function$/,"<anonymous>")).split(".")).length>1?n[n.length-1]:n[0]}(n.functionName)),n})}(o);return s.map(function(u){var c=u.fileName,d=u.lineNumber,f=u.columnNumber,v=u.functionName,l=void 0===v?"<anonymous>":v;if(!c&&!d)return{};if(!f&&!d)return{};var p=function ar(t){return void 0===t&&(t=""),"<anonymous>"===t&&(t=""),t}(c),h=function ir(t){var n=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");return t.indexOf(n)>-1&&(t=t.replace(n+"/","")),t}(p);return function or(t){return!!t&&0===window.location.href.indexOf(t)}(p)&&(h="(inline script)"),{abs_path:c,filename:h,function:l,lineno:d,colno:f}})}(Mr(),e)),o="(inline script)",s=a[a.length-1];s&&s.filename&&(o=s.filename);var c=e.error,d=e.message,f="",v={};if(c&&"object"==typeof c){d=d||c.message,f=c.name;var l=function Ur(t){var n=!1,i={};if(Object.keys(t).forEach(function(e){if(!(Dr.indexOf(e)>=0)){var r=t[e];if(null!=r&&"function"!=typeof r){if("object"==typeof r){if("function"!=typeof r.toISOString)return;r=r.toISOString()}i[e]=r,n=!0}}}),n)return i}(c);l&&(v.custom=l)}f||d&&d.indexOf(":")>-1&&(f=d.split(":")[0]);var p=this._transactionService.getCurrentTransaction(),h=p?p.context:{},L=function jr(t,n){if(null==t)return{};var r,a,i={},e=Object.keys(t);for(a=0;a<e.length;a++)!(n.indexOf(r=e[a])>=0)&&(i[r]=t[r]);return i}(this._configService.get("context"),Hr),V=Re({},$t(),h,L,v),G={id:oe(),culprit:o,exception:{message:d,stacktrace:a,type:f},context:V};return p&&(G=ee(G,{trace_id:p.traceId,parent_id:p.id,transaction_id:p.id,transaction:{type:p.type,sampled:p.sampled}})),me(Pr,G)},n.logErrorEvent=function(e){if(void 0!==e){var r=this.createErrorDataModel(e);void 0!==r.exception.message&&this._apmServer.addError(r)}},n.registerListeners=function(){var e=this;window.addEventListener("error",function(r){return e.logErrorEvent(r)}),window.addEventListener("unhandledrejection",function(r){return e.logPromiseEvent(r)})},n.logPromiseEvent=function(e){var a,r=e.reason;null==r&&(r="<no reason specified>"),a="string"==typeof r.message?{error:r,message:Yt+(r.name?r.name+": ":"")+r.message}:this._parseRejectReason(r),this.logErrorEvent(a)},n.logError=function(e){var r={};return"string"==typeof e?r.message=e:r.error=e,this.logErrorEvent(r)},n._parseRejectReason=function(e){var r={message:Yt};if(Array.isArray(e))r.message+="<object>";else if("object"==typeof e)try{r.message+=JSON.stringify(e),r.error=e}catch(a){r.message+="<object>"}else r.message+="function"==typeof e?"<function>":e;return r},t}(),Gr=function(){function t(i,e){void 0===e&&(e={}),this.onFlush=i,this.items=[],this.queueLimit=e.queueLimit||-1,this.flushInterval=e.flushInterval||0,this.timeoutId=void 0}var n=t.prototype;return n._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){return e.flush()},this.flushInterval)},n._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},n.flush=function(){this.onFlush(this.items),this._clear()},n.add=function(e){this.items.push(e),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},t}(),_e=function(){function t(){}return t.stringify=function(i){return JSON.stringify(i)+"\n"},t}();var Jt=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Kr=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function Jr(t){return t.map(function(n){return{ap:n.abs_path,f:n.filename,fn:n.function,li:n.lineno,co:n.colno}})}function Wt(t){return{ts:t.transfer_size,ebs:t.encoded_body_size,dbs:t.decoded_body_size}}function tt(t){if(!t)return null;var n={},i=t.page,e=t.http,r=t.response,a=t.destination,o=t.user,s=t.custom;if(i&&(n.p={rf:i.referer,url:i.url}),e&&(n.h=function Wr(t){var n={},i=t.method,e=t.status_code,a=t.response;return n.url=t.url,i&&(n.mt=i),e&&(n.sc=e),a&&(n.r=Wt(a)),n}(e)),r&&(n.r=Wt(r)),a){var u=a.service;n.dt={se:{n:u.name,t:u.type,rc:u.resource},ad:a.address,po:a.port}}return o&&(n.u={id:o.id,un:o.username,em:o.email}),s&&(n.cu=s),n}function Qr(t){if(!t)return null;var n=function Zr(t){if(!t)return null;var n={};return Kr.forEach(function(i,e){n[i]=t[Jt[e]]}),n}(t.navigationTiming);return{nt:n,a:ei(n,t.agent)}}function ei(t,n){var i={};if(t&&(i={fb:t.rs,di:t.di,dc:t.dc}),n){var e=n.firstContentfulPaint,r=n.largestContentfulPaint;e&&(i.fp=e),r&&(i.lp=r)}return 0===Object.keys(i).length?null:i}function ii(t){return t.map(function(n){var e=n.samples;return{y:{t:n.span.type},sa:{ysc:{v:e["span.self_time.count"].value},yss:{v:e["span.self_time.sum.us"].value}}}})}function Qt(t,n,i){var e=i.timeout,r=void 0===e?HTTP_REQUEST_TIMEOUT:e,a=i.payload,o=i.headers,s=i.beforeSend,u=i.sendCredentials;return new B(function(c,d){var f=new window.XMLHttpRequest;if(f[Be]=!0,f.open(t,n,!0),f.timeout=r,f.withCredentials=u,o)for(var v in o)o.hasOwnProperty(v)&&f.setRequestHeader(v,o[v]);f.onreadystatechange=function(){if(4===f.readyState){var p=f.status,h=f.responseText;Dt(p)?c(f):d({url:n,status:p,responseText:h})}},f.onerror=function(){d({url:n,status:f.status,responseText:f.responseText})};var l=!0;"function"==typeof s&&(l=s({url:n,method:t,headers:o,payload:a,xhr:f})),l?f.send(a):d({url:n,status:0,responseText:"Request rejected by user configuration."})})}const ui=function(){function t(i,e){this._configService=i,this._loggingService=e,this.queue=void 0,this.throttleEvents=Ne}var n=t.prototype;return n.init=function(){var e=this,r=this._configService.get("queueLimit"),a=this._configService.get("flushInterval"),o=this._configService.get("eventsLimit");this.queue=new Gr(function(c){var d=e.sendEvents(c);d&&d.catch(function(f){e._loggingService.warn("Failed sending events!",e._constructError(f))})},{queueLimit:r,flushInterval:a}),this.throttleEvents=function $r(t,n,i){var s,e=this,r=i.limit,a=i.interval,o=0;return function(){return o++,void 0===s&&(s=setTimeout(function(){o=0,s=void 0},a)),o>r&&"function"==typeof n?n.apply(e,arguments):t.apply(e,arguments)}}(this.queue.add.bind(this.queue),function(){return e._loggingService.warn("Dropped events due to throttling!")},{limit:o,interval:6e4}),this._configService.observeEvent(Ke,function(){e.queue.flush()})},n._postJson=function(e,r){var a=this,u={payload:r,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return function ai(t,n){void 0===n&&(n="gzip");var i="function"==typeof CompressionStream;return new B(function(e){if(!i||function On(){var t="_elastic_inspect_beacon_";if(null!=sessionStorage.getItem(t))return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var i=new URL(window.location.href).searchParams.has(t);return i&&sessionStorage.setItem(t,!0),i}catch(e){}return!1}())return e(t);var a=t.headers,o=t.beforeSend,u=new Blob([t.payload]).stream().pipeThrough(new CompressionStream(n));return new Response(u).blob().then(function(c){return a["Content-Encoding"]=n,e({payload:c,headers:a,beforeSend:o})})})}(u).catch(function(c){return u}).then(function(c){return a._makeHttpRequest("POST",e,c)}).then(function(c){return c.responseText})},n._constructError=function(e){var a=e.status;return void 0===a?e:new Error(e.url+" HTTP status: "+a)},n._makeHttpRequest=function(e,r,a){var o=void 0===a?{}:a,s=o.timeout,u=void 0===s?1e4:s,c=o.payload,d=o.headers,f=o.beforeSend,v=this._configService.get("sendCredentials");return!f&&function Yn(t,n){if(!Ut())return!1;if(!("keepalive"in new Request("")))return!1;var e=function Wn(t){return t?t instanceof Blob?t.size:new Blob([t]).size:0}(n);return"POST"===t&&e<6e4}(e,c)?function Jn(t,n,i){var v,e=i.keepalive,r=void 0!==e&&e,a=i.timeout,o=void 0===a?1e4:a,s=i.payload,u=i.headers,c=i.sendCredentials,d={};if("function"==typeof AbortController){var f=new AbortController;d.signal=f.signal,setTimeout(function(){return f.abort()},o)}return window.fetch(n,Qe({body:s,headers:u,method:t,keepalive:r,credentials:c?"include":"omit"},d)).then(function(l){return(v=l).text()}).then(function(l){var p={url:n,status:v.status,responseText:l};if(!Dt(v.status))throw p;return p})}(e,r,{keepalive:!0,timeout:u,payload:c,headers:d,sendCredentials:v}).catch(function(l){if(l instanceof TypeError)return Qt(e,r,{timeout:u,payload:c,headers:d,beforeSend:f,sendCredentials:v});throw l}):Qt(e,r,{timeout:u,payload:c,headers:d,beforeSend:f,sendCredentials:v})},n.fetchConfig=function(e,r){var a=this,s=this.getEndpoints().configEndpoint;if(!e)return B.reject("serviceName is required for fetching central config.");s+="?service.name="+e,r&&(s+="&service.environment="+r);var u=this._configService.getLocalConfig();u&&(s+="&ifnonematch="+u.etag);var c=this._configService.get("apmRequest");return this._makeHttpRequest("GET",s,{timeout:5e3,beforeSend:c}).then(function(d){if(304===d.status)return u;var l=JSON.parse(d.responseText),p=d.getResponseHeader("etag");return p&&(l.etag=p.replace(/["]/g,""),a._configService.setLocalConfig(l,!0)),l}).catch(function(d){var f=a._constructError(d);return B.reject(f)})},n.createMetaData=function(){var e=this._configService,r={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"rum-js",version:e.version},language:{name:"javascript"},environment:e.get("environment")},labels:e.get("context.tags")};return me(Cr,r)},n.addError=function(e){var r;this.throttleEvents(((r={})[pe]=e,r))},n.addTransaction=function(e){var r;this.throttleEvents(((r={})[he]=e,r))},n.ndjsonErrors=function(e,r){var a=r?"e":"error";return e.map(function(o){var s;return _e.stringify(((s={})[a]=r?function ri(t){var n=t.exception,i={id:t.id,cl:t.culprit,ex:{mg:n.message,st:Jr(n.stacktrace),t:t.type},c:tt(t.context)},e=t.transaction;return e&&(i.tid=t.trace_id,i.pid=t.parent_id,i.xid=t.transaction_id,i.x={t:e.type,sm:e.sampled}),i}(o):o,s))})},n.ndjsonMetricsets=function(e){return e.map(function(r){return _e.stringify({metricset:r})}).join("")},n.ndjsonTransactions=function(e,r){var a=this,o=r?"x":"transaction";return e.map(function(s){var u,c="",d="";return r||(s.spans&&(c=s.spans.map(function(f){return _e.stringify({span:f})}).join(""),delete s.spans),s.breakdown&&(d=a.ndjsonMetricsets(s.breakdown),delete s.breakdown)),_e.stringify(((u={})[o]=r?function ni(t){var n=t.spans.map(function(f){var v={id:f.id,n:f.name,t:f.type,s:f.start,d:f.duration,c:tt(f.context),o:f.outcome,sr:f.sample_rate};return f.parent_id!==t.id&&(v.pid=f.parent_id),!0===f.sync&&(v.sy=!0),f.subtype&&(v.su=f.subtype),f.action&&(v.ac=f.action),v}),i={id:t.id,tid:t.trace_id,n:t.name,t:t.type,d:t.duration,c:tt(t.context),k:Qr(t.marks),me:ii(t.breakdown),y:n,yc:{sd:n.length},sm:t.sampled,sr:t.sample_rate,o:t.outcome};if(t.experience){var e=t.experience;i.exp={cls:e.cls,fid:e.fid,tbt:e.tbt,lt:e.longtask}}if(t.session){var u=t.session;i.ses={id:u.id,seq:u.sequence}}return i}(s):s,u))+c+d})},n.sendEvents=function(e){var r,a;if(0!==e.length){for(var o=[],s=[],u=0;u<e.length;u++){var c=e[u];c[he]&&o.push(c[he]),c[pe]&&s.push(c[pe])}if(0!==o.length||0!==s.length){var d=this._configService,f=((r={})[he]=o,r[pe]=s,r),v=d.applyFilters(f);if(!v)return void this._loggingService.warn("Dropped payload due to filtering!");var p=d.get("apiVersion")>2,h=[],E=this.createMetaData();h.push(_e.stringify(((a={})[p?"m":"metadata"]=p?function ti(t){var n=t.service,e=n.agent;return{se:{n:n.name,ve:n.version,a:{n:e.name,ve:e.version},la:{n:n.language.name},en:n.environment},l:t.labels}}(E):E,a)));var L=(h=h.concat(this.ndjsonErrors(v[pe],p),this.ndjsonTransactions(v[he],p))).join(""),N=this.getEndpoints();return this._postJson(N.intakeEndpoint,L)}}},n.getEndpoints=function(){var e=this._configService.get("serverUrl"),r=this._configService.get("apiVersion");return{intakeEndpoint:e+(this._configService.get("serverUrlPrefix")||"/intake/v"+r+"/rum/events"),configEndpoint:e+"/config/v1/rum/agents"}},t}();function nt(){return nt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},nt.apply(this,arguments)}const vi=function(){function t(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new qt,this.filters=[],this.version=""}var n=t.prototype;return n.init=function(){var e=function ci(){var n=function fi(t){if(!t)return{};for(var n={},i=/^data-([\w-]+)$/,e=t.attributes,r=0;r<e.length;r++){var a=e[r];i.test(a.nodeName)&&(n[a.nodeName.match(i)[1].split("-").map(function(u,c){return c>0?u.charAt(0).toUpperCase()+u.substring(1):u}).join("")]=a.value||a.nodeValue)}return n}(function In(){if("undefined"!=typeof document)return document.currentScript||function bn(){if("undefined"!=typeof document)for(var t=document.getElementsByTagName("script"),n=0,i=t.length;n<i;n++){var e=t[n];if(e.src.indexOf("elastic")>0)return e}}()}());return n}();this.setConfig(e)},n.setVersion=function(e){this.version=e},n.addFilter=function(e){if("function"!=typeof e)throw new Error("Argument to must be function");this.filters.push(e)},n.applyFilters=function(e){for(var r=0;r<this.filters.length;r++)if(!(e=this.filters[r](e)))return;return e},n.get=function(e){return e.split(".").reduce(function(r,a){return r&&r[a]},this.config)},n.setUserContext=function(e){void 0===e&&(e={});var r={},o=e.id,s=e.username,u=e.email;("number"==typeof o||"string"==typeof o)&&(r.id=o),"string"==typeof s&&(r.username=s),"string"==typeof u&&(r.email=u),this.config.context.user=ee(this.config.context.user||{},r)},n.setCustomContext=function(e){void 0===e&&(e={}),this.config.context.custom=ee(this.config.context.custom||{},e)},n.addLabels=function(e){var r=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(e).forEach(function(o){return vt(o,e[o],r.config.context.tags)})},n.setConfig=function(e){void 0===e&&(e={});var a=e.transactionSampleRate,o=e.serverUrl;o&&(e.serverUrl=o.replace(/\/+$/,"")),je(a)||(a<1e-4&&a>0&&(a=1e-4),e.transactionSampleRate=Math.round(1e4*a)/1e4),Re(this.config,e),this.events.send(xt,[this.config])},n.validate=function(e){void 0===e&&(e={});var r=["serviceName","serverUrl"],a=Object.keys(this.config),o={missing:[],invalid:[],unknown:[]};Object.keys(e).forEach(function(u){-1!==r.indexOf(u)&&!e[u]&&o.missing.push(u),-1===a.indexOf(u)&&o.unknown.push(u)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&o.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var s=e.transactionSampleRate;return void 0!==s&&("number"!=typeof s||isNaN(s)||s<0||s>1)&&o.invalid.push({key:"transactionSampleRate",value:s,allowed:"Number between 0 and 1"}),o},n.getLocalConfig=function(){var e=sessionStorage;this.config.session&&(e=localStorage);var r=e.getItem(kt);if(r)return JSON.parse(r)},n.setLocalConfig=function(e,r){if(e){r&&(e=nt({},this.getLocalConfig(),e));var o=sessionStorage;this.config.session&&(o=localStorage),o.setItem(kt,JSON.stringify(e))}},n.dispatchEvent=function(e,r){this.events.send(e,r)},n.observeEvent=function(e,r){return this.events.observe(e,r)},t}(),pi=function(){function t(i){void 0===i&&(i={}),this.levels=["trace","debug","info","warn","error"],this.level=i.level||"warn",this.prefix=i.prefix||"",this.resetLogMethods()}var n=t.prototype;return n.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},n.setLevel=function(e){e!==this.level&&(this.level=e,this.resetLogMethods())},n.resetLogMethods=function(){var e=this;this.levels.forEach(function(r){e[r]=e.shouldLog(r)?function a(){var o=r;("trace"===r||"debug"===r)&&(o="info");var s=arguments;if(s[0]=this.prefix+s[0],console){var u=console[o]||console.log;"function"==typeof u&&u.apply(console,s)}}:Ne})},t}();var ye,Se=((ye={})[O]=function(){return new vi},ye[Q]=function(){return new pi({prefix:"[Elastic APM] "})},ye[ge]=function(t){var n=t.getService([O,Q]);return new ui(n[0],n[1])},ye),hi=function(){function t(){this.instances={},this.initialized=!1}var n=t.prototype;return n.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService(O);e.init();var r=this.getService([Q,ge]),a=r[0],o=r[1];e.events.observe(xt,function(){var s=e.get("logLevel");a.setLevel(s)}),o.init()}},n.getService=function(e){var r=this;return"string"==typeof e?(this.instances[e]||"function"==typeof Se[e]&&(this.instances[e]=Se[e](this)),this.instances[e]):Array.isArray(e)?e.map(function(a){return r.getService(a)}):void 0},t}(),Si=function(){function t(i,e,r,a){this._apmServer=i,this._configService=e,this._logginService=r,this._transactionService=a}var n=t.prototype;return n.init=function(e){var r=this;void 0===e&&(e={}),this._configService.events.observe(Ct+":after",function(a){var o=r.createTransactionPayload(a);o&&(r._apmServer.addTransaction(o),r._configService.dispatchEvent(Xe))}),e[de]&&ne.observe(de,this.getHistorySub()),e[ce]&&ne.observe(ce,this.getXHRSub()),e[fe]&&ne.observe(fe,this.getFetchSub())},n.getHistorySub=function(){var e=this._transactionService;return function(r,a){a.source===de&&r===W&&e.startTransaction(a.data.title,"route-change",{managed:!0,canReuse:!0})}},n.getXHRSub=function(){var e=this;return function(r,a){a.source===ce&&!we.fetchInProgress&&e.processAPICalls(r,a)}},n.getFetchSub=function(){var e=this;return function(r,a){a.source===fe&&e.processAPICalls(r,a)}},n.processAPICalls=function(e,r){var a=this._configService,o=this._transactionService;if(r.data&&r.data.url){var s=this._apmServer.getEndpoints();if(Object.keys(s).some(function(da){return-1!==r.data.url.indexOf(s[da])}))return}if(e===ue&&r.data){var c=r.data,d=new ve(c.url),f=c.method+" "+(d.relative?d.path:lt(d.href));o.getCurrentTransaction()||o.startTransaction(f,Ge,{managed:!0});var v=o.startSpan(f,"external.http",{blocking:!0});if(!v)return;var l=a.get("distributedTracing"),p=a.get("distributedTracingOrigins"),h=new ve(window.location.href),E=ke(d.origin,h.origin)||ke(d.origin,p),S=c.target;l&&E&&S&&(this.injectDtHeader(v,S),a.get("propagateTracestate")&&this.injectTSHeader(v,S)),c.sync&&(v.sync=c.sync),c.span=v}else if(e===W){var N=r.data;if(N&&N.span){var Ae,Te,V=N.span,G=N.response;Ae=G?G.status:N.target.status,V.outcome=Te="abort"==N.status||N.aborted?"unknown":Ae>=400||0==Ae?"failure":"success";var ut=o.getCurrentTransaction();ut&&ut.type===Ge&&(ut.outcome=Te),o.endSpan(V,N)}}},n.injectDtHeader=function(e,r){var a=this._configService.get("distributedTracingHeaderName"),o=function gn(t){if(t&&t.traceId&&t.id&&t.parentId)return"00-"+t.traceId+"-"+(t.sampled?t.id:t.parentId)+"-"+(t.sampled?"01":"00")}(e),s=function _n(t){return/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(t)&&"00000000000000000000000000000000"!==t.slice(3,35)&&"0000000000000000"!==t.slice(36,52)}(o);s&&o&&a&&dt(r,a,o)},n.injectTSHeader=function(e,r){var a=function yn(t){var n=t.sampleRate;if(!("number"!=typeof n||String(n).length>256))return"es=s:"+n}(e);a&&dt(r,"tracestate",a)},n.extractDtHeader=function(e){var a=this._configService.get("distributedTracingHeaderName");if(e)return function mn(t){var n=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(t);if(n)return{traceId:n[2],id:n[3],sampled:"00"!==n[4]}}(e[a])},n.filterTransaction=function(e){var r=e.duration();if(!r)return!1;if(e.isManaged()){if(r>6e4)return!1;if(e.sampled&&0===e.spans.length)return!1}return!0},n.createTransactionDataModel=function(e){var r=e._start,a=e.spans.map(function(s){var u={id:s.id,transaction_id:e.id,parent_id:s.parentId||e.id,trace_id:e.traceId,name:s.name,type:s.type,subtype:s.subtype,action:s.action,sync:s.sync,start:parseInt(s._start-r),duration:s.duration(),context:s.context,outcome:s.outcome,sample_rate:s.sampleRate};return me(Lr,u)}),o={id:e.id,trace_id:e.traceId,session:e.session,name:e.name,type:e.type,duration:e.duration(),spans:a,context:e.context,marks:e.marks,breakdown:e.breakdownTimings,span_count:{started:a.length},sampled:e.sampled,sample_rate:e.sampleRate,experience:e.experience,outcome:e.outcome};return me(Ar,o)},n.createTransactionPayload=function(e){var r=function yi(t){if(t.sampled){var n=t.spans.filter(function(r){return r.duration()>0&&r._start>=t._start&&r._end<=t._end});if(t.isManaged()){var e=function _i(t,n,i){t.sort(function(a,o){return a._start-o._start});var e=[],r=1;return t.forEach(function(a,o){if(0===e.length)e.push(a);else{var s=e[e.length-1],u=s.type===a.type&&s.subtype===a.subtype&&s.action===a.action&&s.name===a.name&&a.duration()/n<i&&(a._start-s._end)/n<i,c=t.length===o+1;u&&(r++,s._end=a._end),r>1&&(!u||c)&&(s.name=r+"x "+s.name,r=1),u||e.push(a)}}),e}(n,t.duration(),.05);t.spans=e}else t.spans=n}else t.resetFields();return t}(e);if(this.filterTransaction(r))return this.createTransactionDataModel(e);this._configService.dispatchEvent(Ce)},t}();const en=function(){function t(i,e,r){void 0===r&&(r={}),i||(i=Oe),e||(e="custom"),this.name=i,this.type=e,this.options=r,this.id=r.id||oe(16),this.traceId=r.traceId,this.sampled=r.sampled,this.sampleRate=r.sampleRate,this.timestamp=r.timestamp,this._start=De(r.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=r.onEnd}var n=t.prototype;return n.ensureContext=function(){this.context||(this.context={})},n.addLabels=function(e){this.ensureContext();var r=this.context;r.tags||(r.tags={}),Object.keys(e).forEach(function(o){return vt(o,e[o],r.tags)})},n.addContext=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];0!==r.length&&(this.ensureContext(),Re.apply(void 0,[this.context].concat(r)))},n.end=function(e){this.ended||(this.ended=!0,this._end=De(e),this.callOnEnd())},n.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},n.duration=function(){return gt(this._start,this._end)},t}();function rt(t,n){return(rt=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(t,n)}const ie=function(t){function n(e,r,a){var o;if((o=t.call(this,e,r,a)||this).parentId=o.options.parentId,o.subtype=void 0,o.action=void 0,-1!==o.type.indexOf(".")){var s=o.type.split(".",3);o.type=s[0],o.subtype=s[1],o.action=s[2]}return o.sync=o.options.sync,o}return function Ti(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,rt(t,n)}(n,t),n.prototype.end=function(r,a){t.prototype.end.call(this,r),function wr(t,n){if(n){var e;switch(t.type){case"external":e=function Rr(t){var u,i=t.method,e=t.target,r=t.response,a=new ve(t.url),o=Ze(a),s={http:{method:i,url:a.href},destination:o};return e&&void 0!==e.status?u=e.status:r&&(u=r.status),s.http.status_code=u,s}(n);break;case"resource":e=function Ir(t){var n=t.entry,i=t.url,r=Ze(new ve(i));return{http:{url:i,response:Gt(n)},destination:r}}(n);break;case"hard-navigation":e=function Nr(t){return{destination:Ze(new ve(t.url))}}(n)}t.addContext(e)}}(this,a)},n}(en);var tn=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function nn(t){return{value:t}}function rn(t,n){var e=n.count,a=n.duration;return{transaction:t,span:n.details,samples:{"span.self_time.count":nn(void 0===e?1:e),"span.self_time.sum.us":nn(1e3*a)}}}function it(t,n){return(it=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(t,n)}const an=function(t){function n(e,r,a){var o;return(o=t.call(this,e,r,a)||this).traceId=oe(),o.marks=void 0,o.spans=[],o._activeSpans={},o._activeTasks=new Set,o.blocked=!1,o.captureTimings=!1,o.breakdownTimings=[],o.sampleRate=o.options.transactionSampleRate,o.sampled=Math.random()<=o.sampleRate,o}!function wi(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,it(t,n)}(n,t);var i=n.prototype;return i.addMarks=function(r){this.marks=Re(this.marks||{},r)},i.mark=function(r){var a=pt(r),o=J()-this._start,s={};s[a]=o,this.addMarks({custom:s})},i.canReuse=function(){var r=this.options.reuseThreshold||5e3;return!!this.options.canReuse&&!this.ended&&J()-this._start<r},i.redefine=function(r,a,o){r&&(this.name=r),a&&(this.type=a),o&&(this.options.reuseThreshold=o.reuseThreshold,ee(this.options,o))},i.startSpan=function(r,a,o){var s=this;if(!this.ended){var u=ee({},o);u.onEnd=function(d){s._onSpanEnd(d)},u.traceId=this.traceId,u.sampled=this.sampled,u.sampleRate=this.sampleRate,u.parentId||(u.parentId=this.id);var c=new ie(r,a,u);return this._activeSpans[c.id]=c,u.blocking&&this.addTask(c.id),c}},i.isFinished=function(){return!this.blocked&&0===this._activeTasks.size},i.detectFinish=function(){this.isFinished()&&this.end()},i.end=function(r){if(!this.ended){for(var a in this.ended=!0,this._end=De(r),this._activeSpans){var o=this._activeSpans[a];o.type=o.type+We,o.end(r)}this.callOnEnd()}},i.captureBreakdown=function(){this.breakdownTimings=function Ni(t,n){void 0===n&&(n=j.timing);var i=[],r=t.type,o={name:t.name,type:r};if(!t.sampled)return i;if(r===F&&n)for(var s=0;s<tn.length;s++){var u=tn[s],f=gt(n[u[0]],n[u[1]]);0===f||null==f||i.push(rn(o,{details:{type:u[2]},duration:f}))}else{var v=function Ri(t){var n={},i=function Ii(t){var n=t.spans,i=t._start,e=t._end;if(0===n.length)return t.duration();n.sort(function(d,f){return d._start-f._start});for(var r=n[0],a=r._end,o=r._start,s=a,u=o-i,c=1;c<n.length;c++)a=(r=n[c])._end,(o=r._start)>s?(u+=o-s,s=a):a>s&&(s=a);return s<e&&(u+=e-s),u}(t);n.app={count:1,duration:i};for(var e=t.spans,r=0;r<e.length;r++){var a=e[r],o=a.duration();if(0!==o&&null!=o){var u=a.subtype,c=a.type.replace(We,"");u&&(c+="."+u),n[c]||(n[c]={duration:0,count:0}),n[c].count++,n[c].duration+=o}}return n}(t);Object.keys(v).forEach(function(l){var p=l.split("."),S=v[l];i.push(rn(o,{details:{type:p[0],subtype:p[1]},duration:S.duration,count:S.count}))})}return i}(this)},i.block=function(r){this.blocked=r,this.blocked||this.detectFinish()},i.addTask=function(r){return r||(r="task-"+oe(16)),this._activeTasks.add(r),r},i.removeTask=function(r){this._activeTasks.delete(r)&&this.detectFinish()},i.resetFields=function(){this.spans=[],this.sampleRate=0},i._onSpanEnd=function(r){this.spans.push(r),delete this._activeSpans[r.id],this.removeTask(r.id)},i.isManaged=function(){return!!this.options.managed},n}(en);function at(){return at=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},at.apply(this,arguments)}var R={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}};var on=function(){function t(i){this.po={observe:Ne,disconnect:Ne},window.PerformanceObserver&&(this.po=new PerformanceObserver(i))}var n=t.prototype;return n.start=function(e,r){void 0===r&&(r={buffered:!0});try{if(!Ue(e))return;this.po.observe(at({type:e},r))}catch(a){}},n.stop=function(){this.po.disconnect()},t}();function ot(t,n,i,e,r){return void 0===r&&(r=0),"number"==typeof t&&"number"==typeof n&&t>=r&&n>t&&t-r>=i&&n-r<=e&&n-t<Ve&&t-r<Ve&&n-r<Ve}var Ee=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function ji(t){var n=t.name,i=t.initiatorType,e=t.startTime,r=t.responseEnd,a="resource";i&&(a+="."+i);var o=lt(n),s=new ie(o,a);return s._start=e,s.end(r,{url:n,entry:t}),s}function Di(t,n){return null!=n&&t>n}function Ui(t){return/intake\/v\d+\/rum\/events/.test(t)}function Bi(t){if(t.captureTimings){var n=t._end;if(t.type===F){if(t.marks&&t.marks.custom){var i=t.marks.custom;Object.keys(i).forEach(function(c){i[c]+=t._start})}t._start=0;var r=j.timing;(function Mi(t,n,i,e){for(var r=[],a=0;a<Ee.length;a++){var o=t[Ee[a][0]],s=t[Ee[a][1]];if(ot(o,s,i,e,n)){var u=new ie(Ee[a][2],"hard-navigation.browser-timing"),c=null;"requestStart"===Ee[a][0]&&(u.pageResponse=!0,c={url:location.origin}),u._start=o-n,u.end(s-n,c),r.push(u)}}return r})(r,qe(r)?r.redirectStart:r.fetchStart,0,n).forEach(function(c){c.traceId=t.traceId,c.sampled=t.sampled,c.pageResponse&&t.options.pageLoadSpanId&&(c.id=t.options.pageLoadSpanId),t.spans.push(c)}),t.addMarks(function Xr(t){var n=function Yr(t){var n=t.redirectStart,i=t.fetchStart,r=t.responseStart;if(i>=t.navigationStart&&r>=i&&t.responseEnd>=r){var o={};return Jt.forEach(function(s){var u=t[s];u&&u>=i&&(o[s]=qe(t)?parseInt(u-n):parseInt(u-i))}),o}return null}(t);return null==n?null:{navigationTiming:n,agent:{timeToFirstByte:n.responseStart,domInteractive:n.domInteractive,domComplete:n.domComplete}}}(r))}if(_t()){var o=t._start;(function qi(t,n,i,e){for(var r=[],a=0;a<t.length;a++){var o=t[a],s=o.initiatorType,u=o.name,c=o.startTime,d=o.responseEnd;-1===Ln.indexOf(s)||null==u||("xmlhttprequest"===s||"fetch"===s)&&(Ui(u)||Di(c,n))||ot(c,d,i,e)&&r.push(ji(t[a]))}return r})(j.getEntriesByType("resource"),re.bootstrapTime,o,n).forEach(function(c){return t.spans.push(c)}),function Hi(t,n,i){for(var e=[],r=0;r<t.length;r++){var a=t[r],o=a.name,s=a.startTime,u=a.duration,c=s+u;if(!(u<=60)&&ot(s,c,n,i)){var f=new ie(o,"app");f._start=s,f.end(c),e.push(f)}}return e}(j.getEntriesByType("measure"),o,n).forEach(function(c){return t.spans.push(c)})}}else t.type===F&&(t._start=0)}const Gi=function(){function t(i,e){var r=this;this._config=e,this._logger=i,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new on(function(a){var o=r.getCurrentTransaction();if(o&&o.captureTimings){var s,u=o.type===F,c=function ki(t,n){var i=n.isHardNavigation,e=n.trStart,r=t.getEntriesByType(le).filter(function(S){return S.startTime>=e}),a=function xi(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e],o=r.startTime,s=r.duration,u=r.attribution,c=o+s,d=new ie("Longtask("+r.name+")",le,{startTime:o});if(n.count++,n.duration+=s,n.max=Math.max(s,n.max),u.length>0){var f=u[0],p=f.containerName,h=f.containerId,E={attribution:f.name,type:f.containerType};p&&(E.name=p),h&&(E.id=h),d.addContext({custom:E})}d.end(c),i.push(d)}return i}(r,R.longtask),o={spans:a,marks:{}};if(!i)return o;var s=t.getEntriesByType(Mt),u=s[s.length-1];if(u){var c=parseInt(u.startTime);R.lcp=c,o.marks.largestContentfulPaint=c}var d=j.timing,f=d.fetchStart-d.navigationStart;qe(d)&&(f=0);var v=t.getEntriesByName("first-contentful-paint")[0];if(v){var l=parseInt(f>=0?v.startTime-f:v.startTime);R.fcp=l,o.marks.firstContentfulPaint=l}var h=function Li(t){var n=t[0];if(n){var e=n.processingStart,r=new ie("First Input Delay",xe,{startTime:n.startTime});return r.end(e),r}}(t.getEntriesByType(xe));return h&&(R.fid=h.duration(),o.spans.push(h)),function Pi(t){t.forEach(function(n){var i=n.name,e=n.startTime,r=n.duration;if(!(e<R.fcp||"self"!==i&&-1===i.indexOf("same-origin"))){R.tbt.start=Math.min(R.tbt.start,e);var a=r-50;a>0&&(R.tbt.duration+=a)}})}(r),function Fi(t){t.forEach(function(n){!n.hadRecentInput&&n.value&&((n.startTime-R.cls.firstEntryTime>5e3||n.startTime-R.cls.prevEntryTime>1e3)&&(R.cls.firstEntryTime=n.startTime,R.cls.currentSessionScore=0),R.cls.prevEntryTime=n.startTime,R.cls.currentSessionScore+=n.value,R.cls.score=Math.max(R.cls.score,R.cls.currentSessionScore))})}(t.getEntriesByType(Ye)),o}(a,{isHardNavigation:u,trStart:u?0:o._start}),f=c.marks;(s=o.spans).push.apply(s,c.spans),o.addMarks({agent:f})}})}var n=t.prototype;return n.createCurrentTransaction=function(e,r,a){var o=new an(e,r,a);return this.currentTransaction=o,o},n.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},n.createOptions=function(e){var r=this._config.config,o=ee({transactionSampleRate:r.transactionSampleRate},e);return o.managed&&(o=ee({pageLoadTraceId:r.pageLoadTraceId,pageLoadSampled:r.pageLoadSampled,pageLoadSpanId:r.pageLoadSpanId,pageLoadTransactionName:r.pageLoadTransactionName},o)),o},n.startManagedTransaction=function(e,r,a){var o=this.getCurrentTransaction(),s=!1;if(o)if(o.canReuse()&&a.canReuse){var u=o.type,c=Ot.indexOf(o.type),d=Ot.indexOf(r);c>=0&&d<c&&(u=r),o.redefine(e,u,a),s=!0}else o.end(),o=this.createCurrentTransaction(e,r,a);else o=this.createCurrentTransaction(e,r,a);return o.type===F&&(s||(this.recorder.start(Mt),this.recorder.start("paint"),this.recorder.start(xe),this.recorder.start(Ye)),a.pageLoadTraceId&&(o.traceId=a.pageLoadTraceId),a.pageLoadSampled&&(o.sampled=a.pageLoadSampled),o.name===Oe&&a.pageLoadTransactionName&&(o.name=a.pageLoadTransactionName)),!s&&this._config.get("monitorLongtasks")&&this.recorder.start(le),o.sampled&&(o.captureTimings=!0),o},n.startTransaction=function(e,r,a){var u,o=this,s=this.createOptions(a),c=!0;return s.managed?this.currentTransaction===(u=this.startManagedTransaction(e,r,s))&&(c=!1):u=new an(e,r,s),u.onEnd=function(){return o.handleTransactionEnd(u)},c&&this._config.events.send("transaction:start",[u]),u},n.handleTransactionEnd=function(e){var r=this;this.recorder.stop();var a=window.location.href;return B.resolve().then(function(){var o=e.name,s=e.type;if(re.lastHiddenStart>=e._start)r._config.dispatchEvent(Ce);else if(r.shouldIgnoreTransaction(o)||s===$e)r._config.dispatchEvent(Ce);else{if(s===F){var c=r._config.get("pageLoadTransactionName");if(o===Oe&&c&&(e.name=c),e.captureTimings){var d=R.cls,f=R.fid,v=R.tbt,l=R.longtask;v.duration>0&&e.spans.push(function Ai(t){var n=t.start,i=t.duration,e=new ie("Total Blocking Time",le,{startTime:n});return e.end(n+i),e}(v)),e.experience={},Ue(le)&&(e.experience.tbt=v.duration),Ue(Ye)&&(e.experience.cls=d.score),f>0&&(e.experience.fid=f),l.count>0&&(e.experience.longtask={count:l.count,sum:l.duration,max:l.max})}r.setSession(e)}e.name===Oe&&(e.name=function hr(t,n){void 0===n&&(n=2);for(var i=new ve(t),e=i.query,a=i.path.substring(1).split("/"),o=":id",u=/\W|_/g,c=/[0-9]/g,d=/[a-z]/g,f=/[A-Z]/g,v=[],l=!1,p=0;p<a.length;p++){var h=a[p];if(l||p>n-1){h&&v.push("*");break}if((h.match(u)||[]).length>=2)v.push(o),l=!0;else{var S=(h.match(c)||[]).length;if(S>3||h.length>3&&S/h.length>=.3)v.push(o),l=!0;else{var L=(h.match(f)||[]).length,V=(h.match(d)||[]).length/h.length,G=L/h.length;h.length>5&&(G>.3&&G<.6||V>.3&&V<.6)?(v.push(o),l=!0):h&&v.push(h)}}}return"/"+v.join(v.length>=2?"/":"")+(e?"?{query}":"")}(a)),Bi(e),r.adjustTransactionTime(e),r._config.get("breakdownMetrics")&&e.captureBreakdown();var h=r._config.get("context");(function Or(t,n){var r=function mr(t,n){if(null==t)return{};var r,a,i={},e=Object.keys(t);for(a=0;a<e.length;a++)!(n.indexOf(r=e[a])>=0)&&(i[r]=t[r]);return i}(void 0===n?{}:n,gr),a=$t(),o={};if(t.type===ze)t.ensureContext(),t.context.page&&t.context.page.url&&(a.page.url=t.context.page.url);else if(t.type===F&&_t()){var s=j.getEntriesByType("navigation");s&&s.length>0&&(o={response:Gt(s[0])})}t.addContext(a,o,r)})(e,h),r._config.events.send(Ct,[e])}},function(o){})},n.setSession=function(e){var r=this._config.get("session");if(r){e.session="boolean"==typeof r||r.timestamp&&Date.now()-r.timestamp>18e5?{id:oe(16),sequence:1}:{id:r.id,sequence:r.sequence?r.sequence+1:1};var a={session:{id:e.session.id,sequence:e.session.sequence,timestamp:Date.now()}};this._config.setConfig(a),this._config.setLocalConfig(a,!0)}},n.adjustTransactionTime=function(e){var r=e.spans,a=function wn(t){for(var n=t[0],i=1;i<t.length;i++){var e=t[i];n._start>e._start&&(n=e)}return n}(r);a&&a._start<e._start&&(e._start=a._start);var o=function Rn(t){return ht(t,function(n){return-1===String(n).indexOf("external")})}(r)||{},s=o._end||0;if(e.type===F){var u=e._end-1e3,c=R.lcp||0,d=function Nn(t){return ht(t,function(n){return-1!==String(n).indexOf("external")})}(r)||{};e._end=Math.max(s,d._end||0,c,u)}else s>e._end&&(e._end=s);this.truncateSpans(r,e._end)},n.truncateSpans=function(e,r){for(var a=0;a<e.length;a++){var o=e[a];o._end>r&&(o._end=r,o.type+=We),o._start>r&&(o._start=r)}},n.shouldIgnoreTransaction=function(e){var r=this._config.get("ignoreTransactions");if(r&&r.length)for(var a=0;a<r.length;a++){var o=r[a];if("function"==typeof o.test){if(o.test(e))return!0}else if(o===e)return!0}return!1},n.startSpan=function(e,r,a){var o=this.getCurrentTransaction();return o||(o=this.createCurrentTransaction(void 0,$e,this.createOptions({canReuse:!0,managed:!0}))),o.startSpan(e,r,a)},n.endSpan=function(e,r){e&&e.end(null,r)},t}();var w={minInteractionId:1/0,maxInteractionId:0,interactionCount:0,longestInteractions:[]};function Ji(t){t.getEntries().forEach(function(i){!i.interactionId||(function ea(t){yt()||(w.minInteractionId=Math.min(w.minInteractionId,t.interactionId),w.maxInteractionId=Math.max(w.maxInteractionId,t.interactionId),w.interactionCount=(w.maxInteractionId-w.minInteractionId)/7+1)}(i),!(i.duration<40)&&function Zi(t){var n=w.longestInteractions[w.longestInteractions.length-1];if(!(void 0!==n&&t.duration<=n.duration&&t.interactionId!=n.id)){var i=w.longestInteractions.filter(function(r){return r.id===t.interactionId});if(i.length>0){var e=i[0];e.duration=Math.max(e.duration,t.duration)}else w.longestInteractions.push({id:t.interactionId,duration:t.duration});w.longestInteractions.sort(function(r,a){return a.duration-r.duration}),w.longestInteractions.splice(10)}}(i))})}function un(){return performance.interactionCount||w.interactionCount}function cn(t,n){if(function ta(t){var n=function Wi(){if(0===w.longestInteractions.length)return un()>0?0:void 0;var t=Math.min(w.longestInteractions.length-1,Math.floor(un()/50));return w.longestInteractions[t].duration}();if(n>=0){var i=J(),e=t.startTransaction(ze,ze,{startTime:i}),r=performance.getEntriesByType("navigation");return r.length>0&&e.addContext({page:{url:r[0].name}}),e.addLabels({inp_value:n}),e.end(i+n+1),function Qi(){w.minInteractionId=1/0,w.maxInteractionId=0,w.interactionCount=0,w.longestInteractions=[]}(),e}}(n))var e=t.observeEvent(Xe,function(){fn(t,n),e()});else fn(t,n)}function fn(t,n){var i=n.getCurrentTransaction();if(i){var e=t.observeEvent(Ce,function(){re.lastHiddenStart=J(),e(),r()}),r=t.observeEvent(Xe,function(){t.dispatchEvent(Ke),re.lastHiddenStart=J(),r(),e()});i.end()}else t.dispatchEvent(Ke),re.lastHiddenStart=J()}var dn=function(){function t(i,e){this._disable=e,this.serviceFactory=i,this._initialized=!1}var n=t.prototype;return n.isEnabled=function(){return!this._disable},n.isActive=function(){var e=this.serviceFactory.getService(O);return this.isEnabled()&&this._initialized&&e.get("active")},n.init=function(e){var r=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var a=this.serviceFactory.getService([O,Q,te]),o=a[0],s=a[1],u=a[2];o.setVersion("5.16.0"),this.config(e);var c=o.get("logLevel");if(s.setLevel(c),o.get("active")){this.serviceFactory.init();var f=function Ki(t,n){var i,e=((i={})[ce]=!1,i[fe]=!1,i[de]=!1,i[F]=!1,i.error=!1,i[Lt]=!1,i.click=!1,i);return t&&Object.keys(e).forEach(function(r){-1===n.indexOf(r)&&(e[r]=!0)}),e}(o.get("instrument"),o.get("disableInstrumentations"));if(this.serviceFactory.getService(Ht).init(f),f.error&&this.serviceFactory.getService(Je).registerListeners(),o.get("session")){var p=o.getLocalConfig();p&&p.session&&o.setConfig({session:p.session})}var h=function(){return f[F]&&r._sendPageLoadMetrics()};o.get("centralConfig")?this.fetchCentralConfig().then(h):h(),function na(t,n){"hidden"===document.visibilityState&&(re.lastHiddenStart=0);var i=function(){"hidden"===document.visibilityState&&cn(t,n)},e=function(){return cn(t,n)},r=!0;window.addEventListener("visibilitychange",i,r),window.addEventListener("pagehide",e,r)}(o,u),f[Lt]&&f.click&&function ia(t){var n=function(a){a.target instanceof Element&&function aa(t,n){var i=function oa(t){var n={transactionName:null,context:null};n.transactionName=function sa(t){var n=function ua(t){var n="data-transaction-name",i=t.getAttribute(n);if(t.closest){var e=t.closest("a[data-transaction-name], button[data-transaction-name]");return e?e.getAttribute(n):i}return i}(t);if(n)return n;var i=t.tagName.toLowerCase(),e=t.getAttribute("name");return e?i+'["'+e+'"]':i}(t);var i=t.getAttribute("class");return i&&(n.context={custom:{classes:i}}),n}(n),r=i.context,a=t.startTransaction("Click - "+i.transactionName,wt,{managed:!0,canReuse:!0,reuseThreshold:300});a&&r&&a.addContext(r)}(t,a.target)},i="click";return window.addEventListener(i,n,!0),function(){window.removeEventListener(i,n,!0)}}(u),function Yi(t){void 0===t&&(t=new on(Ji));var n=yt();t.start("event",{buffered:!0,durationThreshold:n?40:16}),n||t.start(xe)}()}else this._disable=!0,s.warn("RUM agent is inactive")}return this},n.fetchCentralConfig=function(){var e=this.serviceFactory.getService([ge,Q,O]),a=e[1],o=e[2];return e[0].fetchConfig(o.get("serviceName"),o.get("environment")).then(function(s){var u=s.transaction_sample_rate;if(u){var c={transactionSampleRate:u=Number(u)},f=o.validate(c).invalid;if(0===f.length)o.setConfig(c);else{var v=f[0];a.warn('invalid value "'+v.value+'" for '+v.key+". Allowed: "+v.allowed+".")}}return s}).catch(function(s){a.warn("failed fetching config:",s)})},n._sendPageLoadMetrics=function(){var e=this.startTransaction(void 0,F,{managed:!0,canReuse:!0});if(e){e.addTask(F);var r=function(){setTimeout(function(){return e.removeTask(F)},1e3)};"complete"===document.readyState?r():window.addEventListener("load",r)}},n.observe=function(e,r){this.serviceFactory.getService(O).events.observe(e,r)},n.config=function(e){var r=this.serviceFactory.getService([O,Q]),a=r[0],o=r[1],s=a.validate(e),u=s.missing,c=s.invalid,d=s.unknown;if(d.length>0){var f="Unknown config options are specified for RUM agent: "+d.join(", ");o.warn(f)}if(0===u.length&&0===c.length)a.setConfig(e);else{var v=", ",l="RUM agent isn't correctly configured. ";u.length>0&&(l+=u.join(v)+" is missing",c.length>0&&(l+=v)),c.forEach(function(p,h){l+=p.key+' "'+p.value+'" contains invalid characters! (allowed: '+p.allowed+")"+(h!==c.length-1?v:"")}),o.error(l),a.setConfig({active:!1})}},n.setUserContext=function(e){this.serviceFactory.getService(O).setUserContext(e)},n.setCustomContext=function(e){this.serviceFactory.getService(O).setCustomContext(e)},n.addLabels=function(e){this.serviceFactory.getService(O).addLabels(e)},n.setInitialPageLoadName=function(e){this.serviceFactory.getService(O).setConfig({pageLoadTransactionName:e})},n.startTransaction=function(e,r,a){if(this.isEnabled())return this.serviceFactory.getService(te).startTransaction(e,r,a)},n.startSpan=function(e,r,a){if(this.isEnabled())return this.serviceFactory.getService(te).startSpan(e,r,a)},n.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService(te).getCurrentTransaction()},n.captureError=function(e){if(this.isEnabled())return this.serviceFactory.getService(Je).logError(e)},n.addFilter=function(e){this.serviceFactory.getService(O).addFilter(e)},t}(),Le=function ca(){if(Z&&window.elasticApm)return window.elasticApm;var t=function rr(){return function Sn(){return Z&&"function"==typeof Set&&"function"==typeof JSON.stringify&&j&&"function"==typeof j.now&&function ln(){return"withCredentials"in new window.XMLHttpRequest}()}()?(nr(),re.bootstrapTime=J(),Vt=!0):Z&&console.log("[Elastic APM] platform is not supported!"),Vt}(),n=function zi(){return function $i(){Se[te]=function(t){var n=t.getService([Q,O]);return new Gi(n[0],n[1])},Se[Ht]=function(t){var n=t.getService([ge,O,Q,te]);return new Si(n[0],n[1],n[2],n[3])}}(),function gi(){Se[Je]=function(t){var n=t.getService([ge,O,te]);return new Br(n[0],n[1],n[2])}}(),new hi}(),i=new dn(n,!t);return Z&&(window.elasticApm=i),i}(),vn=Le.init.bind(Le);const fa=vn},258:function(be,ae,k){var D,$,M;!function(z,y){"use strict";$=[k(3934)],D=function(y){var K=/(^|@)\S+\:\d+/,U=/^\s*at .*(\S+\:\d+|\(native\))/m,X=/^(eval@)?(\[native code\])?$/;function H(m,_,b){if("function"==typeof Array.prototype.map)return m.map(_,b);for(var g=new Array(m.length),T=0;T<m.length;T++)g[T]=_.call(b,m[T]);return g}function Y(m,_,b){if("function"==typeof Array.prototype.filter)return m.filter(_,b);for(var g=[],T=0;T<m.length;T++)_.call(b,m[T])&&g.push(m[T]);return g}return{parse:function(_){if(void 0!==_.stacktrace||void 0!==_["opera#sourceloc"])return this.parseOpera(_);if(_.stack&&_.stack.match(U))return this.parseV8OrIE(_);if(_.stack)return this.parseFFOrSafari(_);throw new Error("Cannot parse given Error object")},extractLocation:function(_){if(-1===_.indexOf(":"))return[_];var g=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(_.replace(/[\(\)]/g,""));return[g[1],g[2]||void 0,g[3]||void 0]},parseV8OrIE:function(_){return H(Y(_.stack.split("\n"),function(g){return!!g.match(U)},this),function(g){g.indexOf("(eval ")>-1&&(g=g.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var T=g.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),I=this.extractLocation(T.pop()),A=T.join(" ")||void 0,P=function Pe(m,_){if("function"==typeof Array.prototype.indexOf)return m.indexOf(_);for(var b=0;b<m.length;b++)if(m[b]===_)return b;return-1}(["eval","<anonymous>"],I[0])>-1?void 0:I[0];return new y(A,void 0,P,I[1],I[2],g)},this)},parseFFOrSafari:function(_){return H(Y(_.stack.split("\n"),function(g){return!g.match(X)},this),function(g){if(g.indexOf(" > eval")>-1&&(g=g.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===g.indexOf("@")&&-1===g.indexOf(":"))return new y(g);var T=g.split("@"),I=this.extractLocation(T.pop()),A=T.join("@")||void 0;return new y(A,void 0,I[0],I[1],I[2],g)},this)},parseOpera:function(_){return!_.stacktrace||_.message.indexOf("\n")>-1&&_.message.split("\n").length>_.stacktrace.split("\n").length?this.parseOpera9(_):_.stack?this.parseOpera11(_):this.parseOpera10(_)},parseOpera9:function(_){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,g=_.message.split("\n"),T=[],I=2,A=g.length;I<A;I+=2){var P=b.exec(g[I]);P&&T.push(new y(void 0,void 0,P[2],P[1],void 0,g[I]))}return T},parseOpera10:function(_){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,g=_.stacktrace.split("\n"),T=[],I=0,A=g.length;I<A;I+=2){var P=b.exec(g[I]);P&&T.push(new y(P[3]||void 0,void 0,P[2],P[1],void 0,g[I]))}return T},parseOpera11:function(_){return H(Y(_.stack.split("\n"),function(g){return!!g.match(K)&&!g.match(/^Error created at/)},this),function(g){var q,T=g.split("@"),I=this.extractLocation(T.pop()),A=T.shift()||"",P=A.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;A.match(/\(([^\)]*)\)/)&&(q=A.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var B=void 0===q||"[arguments not available]"===q?void 0:q.split(",");return new y(P,B,I[0],I[1],I[2],g)},this)}}},void 0!==(M=D.apply(ae,$))&&(be.exports=M)}()},3934:function(be,ae){var k,$;!function(M,z){"use strict";k=function(){function M(y){return!isNaN(parseFloat(y))&&isFinite(y)}function z(y,K,U,X,H,Y){void 0!==y&&this.setFunctionName(y),void 0!==K&&this.setArgs(K),void 0!==U&&this.setFileName(U),void 0!==X&&this.setLineNumber(X),void 0!==H&&this.setColumnNumber(H),void 0!==Y&&this.setSource(Y)}return z.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(y){this.functionName=String(y)},getArgs:function(){return this.args},setArgs:function(y){if("[object Array]"!==Object.prototype.toString.call(y))throw new TypeError("Args must be an Array");this.args=y},getFileName:function(){return this.fileName},setFileName:function(y){this.fileName=String(y)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(y){if(!M(y))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(y)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(y){if(!M(y))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(y)},getSource:function(){return this.source},setSource:function(y){this.source=String(y)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(M(this.getLineNumber())?":"+this.getLineNumber():"")+(M(this.getColumnNumber())?":"+this.getColumnNumber():"")}},z},void 0!==($=k.apply(ae,[]))&&(be.exports=$)}()}}]);